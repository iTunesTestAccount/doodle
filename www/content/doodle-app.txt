---
title:       doodle/app
author:      Sean O'Halpin
created_at:  2008-08-02 14:06:40.000000 -06:00
filter:
  - erb
  - wikilinks
  - creole
---
== <%= @page.title %>

@Doodle::App@ makes it easy to define command line options.

=== example

<<< ruby
require 'rubygems'
require 'doodle/app'

class Filter < Doodle::App
  filename :input, :existing => true,
    :doc => "name of existing input file"
  filename :output, :doc => "name of output file"
  std_flags
  def run
    puts "input: #{input} => output: #{output}"
  end
end

if  __FILE__ == $0
  Filter.run(ARGV)
end
>>>

$ ruby examples/filter.rb index.txt
<<< output
ERROR: #<Filter:0x124a60c> missing required attribute 'output'
>>>

$ ruby filter.rb foo.txt
<<< output
ERROR: Filter.input must exist - got String("foo.txt")
>>>

$ ruby filter.rb --help
<<< output
filter.rb

Usage: ./filter.rb -i STRING -o STRING

Required args:
  -i, --input        STRING     name of existing input file (REQUIRED)
  -o, --output       STRING     name of output file (REQUIRED)

Options:
  -h, --help         BOOLEAN    display this help
  -v, --verbose      BOOLEAN    verbose output
  -D, --debug        BOOLEAN    turn on debugging
>>>
